<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa COVID-19 México - Polígonos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fc; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .card { background: white; border-radius: 8px; box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15); margin-bottom: 1.5rem; }
        .card-header { padding: 0.75rem 1.25rem; background-color: #f8f9fc; border-bottom: 1px solid #e3e6f0; }
        .card-header h6 { color: #4e73df; font-weight: 700; font-size: 1rem; margin: 0; }
        .card-header .histTitle { color: #333; font-weight: 400; }
        .card-body { padding: 1.25rem; position: relative; }
        #map { width: 100%; height: 60vh; border-radius: 4px; }
        .control-buttons { position: absolute; bottom: 40px; left: 50px; z-index: 900; }
        .btn { display: inline-flex; align-items: center; padding: 0.5rem 1rem; background: #4e73df; color: white; border: none; border-radius: 0.35rem; cursor: pointer; font-size: 0.8rem; font-weight: 600; box-shadow: 0 0.125rem 0.25rem 0 rgba(58, 59, 69, 0.2); }
        .btn:hover { background: #2e59d9; }
        .btn .icon { margin-right: 0.5rem; }
        .legend { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15); margin-top: 20px; }
        .legend h3 { color: #4e73df; font-size: 16px; margin-bottom: 10px; font-weight: 700; }
        .legend-item { display: flex; align-items: center; margin-bottom: 8px; font-size: 14px; }
        .legend-color { width: 30px; height: 20px; margin-right: 10px; border-radius: 3px; border: 1px solid rgba(255,255,255,0.5); }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h6><span style="color: #4e73df;">Mapa</span> <span class="histTitle">de Casos Confirmados COVID-19</span><br><span style="color:#999999;font-size:11px;">(Visualización con polígonos geográficos de México)</span></h6>
            </div>
            <div class="card-body">
                <div id="map"></div>
                <div class="control-buttons">
                    <button class="btn" onclick="centerMap()"><span class="icon"><i class="fas fa-compress-arrows-alt"></i></span><span>centrar mapa</span></button>
                </div>
            </div>
        </div>
        <div class="legend">
            <h3>Nivel de Incidencia por 100k habitantes</h3>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 1);"></div><span>Muy Alto (≥ 15,000)</span></div>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 0.8);"></div><span>Alto (8,000 - 15,000)</span></div>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 0.6);"></div><span>Medio (5,000 - 8,000)</span></div>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 0.4);"></div><span>Moderado (3,000 - 5,000)</span></div>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 0.2);"></div><span>Bajo (1,500 - 3,000)</span></div>
            <div class="legend-item"><div class="legend-color" style="background: rgba(209, 19, 20, 0.1);"></div><span>Muy Bajo (< 1,500)</span></div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script>
const map = L.map('map').setView([23.6345, -102.5528], 5);
L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {attribution: '© OpenStreetMap © CartoDB', maxZoom: 18, subdomains: 'abcd'}).addTo(map);

const estadosData = {'Aguascalientes': {incidencia: 6374.93, casos: 91457, poblacion: 1434635},'Baja California': {incidencia: 4955.28, casos: 180118, poblacion: 3634868},'Baja California Sur': {incidencia: 16272.49, casos: 130946, poblacion: 804708},'Campeche': {incidencia: 4452.35, casos: 44551, poblacion: 1000617},'Chiapas': {incidencia: 1045.36, casos: 59903, poblacion: 5730367},'Chihuahua': {incidencia: 4599.33, casos: 174843, poblacion: 3801487},'Coahuila de Zaragoza': {incidencia: 5901.32, casos: 189947, poblacion: 3218720},'Colima': {incidencia: 9222.92, casos: 72414, poblacion: 785153},'Durango': {incidencia: 4398.14, casos: 82201, poblacion: 1868996},'Guanajuato': {incidencia: 5999.59, casos: 373665, poblacion: 6228175},'Guerrero': {incidencia: 3315.52, casos: 121250, poblacion: 3657048},'Hidalgo': {incidencia: 4228.37, casos: 130505, poblacion: 3086414},'Jalisco': {incidencia: 3559.19, casos: 299317, poblacion: 8409693},'México': {incidencia: 4364.86, casos: 760699, poblacion: 17427790},'Michoacán de Ocampo': {incidencia: 2453.50, casos: 118391, poblacion: 4825401},'Morelos': {incidencia: 4992.37, casos: 102047, poblacion: 2044058},'Nayarit': {incidencia: 6039.17, casos: 77819, poblacion: 1288571},'Nuevo León': {incidencia: 7672.71, casos: 430451, poblacion: 5610153},'Oaxaca': {incidencia: 3879.10, casos: 160734, poblacion: 4143593},'Puebla': {incidencia: 3425.49, casos: 226235, poblacion: 6604451},'Querétaro': {incidencia: 8328.12, casos: 189851, poblacion: 2279637},'Quintana Roo': {incidencia: 7183.02, casos: 123782, poblacion: 1723259},'San Luis Potosí': {incidencia: 8956.46, casos: 256705, poblacion: 2866142},'Sinaloa': {incidencia: 5871.65, casos: 185349, poblacion: 3156674},'Sonora': {incidencia: 6691.06, casos: 205733, poblacion: 3074745},'Tabasco': {incidencia: 8632.90, casos: 222063, poblacion: 2572287},'Tamaulipas': {incidencia: 5131.21, casos: 187320, poblacion: 3650602},'Tlaxcala': {incidencia: 4489.38, casos: 61954, poblacion: 1380011},'Veracruz de Ignacio de la Llave': {incidencia: 2822.75, casos: 241059, poblacion: 8539862},'Yucatán': {incidencia: 6458.77, casos: 145910, poblacion: 2259098},'Zacatecas': {incidencia: 5048.71, casos: 84133, poblacion: 1666426},'Ciudad de México': {incidencia: 21089.68, casos: 1902003, poblacion: 9018645}};

function getColor(i) {
    if (i >= 15000) return {color: '#d11314', opacity: 1.0};
    if (i >= 8000) return {color: '#d11314', opacity: 0.8};
    if (i >= 5000) return {color: '#d11314', opacity: 0.6};
    if (i >= 3000) return {color: '#d11314', opacity: 0.4};
    if (i >= 1500) return {color: '#d11314', opacity: 0.2};
    return {color: '#d11314', opacity: 0.1};
}

function style(feature) {
    const data = estadosData[feature.properties.nom_edo];
    if (data) {
        const c = getColor(data.incidencia);
        return {fillColor: c.color, fillOpacity: c.opacity, color: '#ffffff', weight: 1, opacity: 0.5};
    }
    return {fillColor: '#cccccc', fillOpacity: 0.3, color: '#ffffff', weight: 1, opacity: 0.5};
}

function onEachFeature(feature, layer) {
    const name = feature.properties.nom_edo || 'Desconocido';
    const data = estadosData[name];
    layer.on({
        mouseover: e => {
            e.target.setStyle({weight: 3, color: '#666', fillOpacity: 0.7});
            e.target.bringToFront();
        },
        mouseout: e => geojsonLayer.resetStyle(e.target)
    });
    if (data) {
        layer.bindPopup(`<div style="font-family: Arial"><h4 style="color: #4e73df; margin-bottom: 8px; font-size: 16px; font-weight: 700;">${name}</h4><p style="margin: 5px 0; font-size: 13px;"><strong>Casos:</strong> ${data.casos.toLocaleString()}</p><p style="margin: 5px 0; font-size: 13px;"><strong>Población:</strong> ${data.poblacion.toLocaleString()}</p><p style="margin: 5px 0; font-size: 13px;"><strong>Tasa 100k/hab:</strong> ${data.incidencia.toFixed(2)}</p></div>`);
    } else {
        layer.bindPopup(`<div><h4 style="color: #4e73df;">${name}</h4><p>Sin datos disponibles</p></div>`);
    }
}

let geojsonLayer = null;

// Cargar GeoJSON desde el archivo que subiste
// fetch('data:application/json;base64,' + btoa(unescape(encodeURIComponent('{"type":"FeatureCollection","features":[' + 
// '{"type":"Feature","properties":{"nom_edo":"Hidalgo"},"geometry":{"type":"Polygon","coordinates":[[[-98.48,21.4],[-98.46,21.35],[-98.54,21.26],[-98.47,21.25],[-98.48,21.22],[-98.42,21.15],[-98.28,21.19],[-98.29,21.15],[-98.22,21.15],[-98.15,21.08],[-98.27,20.87],[-98.23,20.8],[-98.33,20.78],[-98.35,20.86],[-98.4,20.86],[-98.45,20.82],[-98.45,20.75],[-98.52,20.74],[-98.55,20.69],[-98.53,20.66],[-98.42,20.74],[-98.49,20.64],[-98.48,20.59],[-98.51,20.59],[-98.53,20.53],[-98.6,20.5],[-98.55,20.44],[-98.55,20.36],[-98.46,20.33],[-98.39,20.4],[-98.32,20.42],[-98.23,20.52],[-98.16,20.54],[-98.07,20.68],[-98.02,20.63],[-98.02,20.53],[-97.99,20.52],[-98.13,20.34],[-98.18,20.34],[-98.18,20.29],[-98.25,20.3],[-98.28,20.26],[-98.27,20.22],[-98.18,20.25],[-98.13,20.19],[-98.14,20.15],[-98.1,20.15],[-98.18,20.05],[-98.16,19.98],[-98.25,19.95],[-98.32,19.86],[-98.27,19.84],[-98.2,19.74],[-98.33,19.72],[-98.32,19.69],[-98.38,19.61],[-98.52,19.6],[-98.57,19.64],[-98.61,19.6],[-98.66,19.6],[-98.67,19.66],[-98.62,19.66],[-98.63,19.72],[-98.6,19.77],[-98.66,19.84],[-98.7,19.83],[-98.67,19.86],[-98.78,19.88],[-98.8,19.86],[-98.88,19.9],[-98.95,19.8],[-99.01,19.83],[-99.02,19.87],[-98.95,19.89],[-99.0,19.96],[-98.94,19.98],[-98.99,20.07],[-99.0,19.96],[-99.03,19.97],[-99.03,20.01],[-99.06,19.97],[-99.09,20.03],[-99.16,20.03],[-99.23,19.95],[-99.21,19.93],[-99.23,19.88],[-99.31,19.8],[-99.38,19.77],[-99.37,19.85],[-99.48,19.91],[-99.44,20.0],[-99.51,20.18],[-99.63,20.15],[-99.66,20.18],[-99.72,20.17],[-99.84,20.28],[-99.86,20.26],[-99.83,20.54],[-99.62,20.59],[-99.5,20.66],[-99.55,20.74],[-99.39,20.95],[-99.36,21.04],[-99.4,21.1],[-99.35,21.1],[-99.31,21.15],[-99.25,21.1],[-99.08,21.17],[-99.06,21.15],[-99.06,21.28],[-98.94,21.31],[-98.88,21.18],[-98.79,21.16],[-98.81,21.19],[-98.77,21.17],[-98.74,21.19],[-98.7,21.16],[-98.68,21.2],[-98.61,21.2],[-98.6,21.28],[-98.68,21.35],[-98.55,21.38],[-98.51,21.36],[-98.48,21.4]]]}}' +
// ']}')))).then(r => r.json()).then(data => {
//     geojsonLayer = L.geoJSON(data, {style: style, onEachFeature: onEachFeature}).addTo(map);
//     map.fitBounds(geojsonLayer.getBounds());
// }).catch(err => {
//     console.error('Error:', err);
//     alert('Cargando datos desde archivo externo. Por favor asegúrate de que el archivo estados-poligonos.geojson esté en la misma carpeta.');
// });



//fetch('./estados-poligonos.geojson')


        // Cargar el GeoJSON directamente
        const geojsonData = 
        {"type": "FeatureCollection","name": "estados-poligonos","crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },"features": [
        { "type": "Feature", "properties": { "abre": "Hgo.", "cvegeo": "13", "grado_marg": "Alto", "nom_edo": "Hidalgo", "pob18ymas": 2199110.0, "pob18ymas_rural": 868303, "pob18ymas_urbano": 1330807.0 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -98.48, 21.4 ], [ -98.46, 21.35 ], [ -98.54, 21.26 ], [ -98.47, 21.25 ], [ -98.48, 21.22 ], [ -98.42, 21.15 ], [ -98.28, 21.19 ], [ -98.29, 21.15 ], [ -98.22, 21.15 ], [ -98.15, 21.08 ], [ -98.27, 20.87 ], [ -98.23, 20.8 ], [ -98.33, 20.78 ], [ -98.35, 20.86 ], [ -98.4, 20.86 ], [ -98.45, 20.82 ], [ -98.45, 20.75 ], [ -98.52, 20.74 ], [ -98.55, 20.69 ], [ -98.53, 20.66 ], [ -98.42, 20.74 ], [ -98.49, 20.64 ], [ -98.48, 20.59 ], [ -98.51, 20.59 ], [ -98.53, 20.53 ], [ -98.6, 20.5 ], [ -98.55, 20.44 ], [ -98.55, 20.36 ], [ -98.46, 20.33 ], [ -98.39, 20.4 ], [ -98.32, 20.42 ], [ -98.23, 20.52 ], [ -98.16, 20.54 ], [ -98.07, 20.68 ], [ -98.02, 20.63 ], [ -98.02, 20.53 ], [ -97.99, 20.52 ], [ -98.13, 20.34 ], [ -98.18, 20.34 ], [ -98.18, 20.29 ], [ -98.25, 20.3 ], [ -98.28, 20.26 ], [ -98.27, 20.22 ], [ -98.18, 20.25 ], [ -98.13, 20.19 ], [ -98.14, 20.15 ], [ -98.1, 20.15 ], [ -98.18, 20.05 ], [ -98.16, 19.98 ], [ -98.25, 19.95 ], [ -98.32, 19.86 ], [ -98.27, 19.84 ], [ -98.2, 19.74 ], [ -98.33, 19.72 ], [ -98.32, 19.69 ], [ -98.38, 19.61 ], [ -98.52, 19.6 ], [ -98.57, 19.64 ], [ -98.61, 19.6 ], [ -98.66, 19.6 ], [ -98.67, 19.66 ], [ -98.62, 19.66 ], [ -98.63, 19.72 ], [ -98.6, 19.77 ], [ -98.66, 19.84 ], [ -98.7, 19.83 ], [ -98.67, 19.86 ], [ -98.78, 19.88 ], [ -98.8, 19.86 ], [ -98.88, 19.9 ], [ -98.95, 19.8 ], [ -99.01, 19.83 ], [ -99.02, 19.87 ], [ -98.95, 19.89 ], [ -99.0, 19.96 ], [ -98.94, 19.98 ], [ -98.99, 20.07 ], [ -99.0, 19.96 ], [ -99.03, 19.97 ], [ -99.03, 20.01 ], [ -99.06, 19.97 ], [ -99.09, 20.03 ], [ -99.16, 20.03 ], [ -99.23, 19.95 ], [ -99.21, 19.93 ], [ -99.23, 19.88 ], [ -99.31, 19.8 ], [ -99.38, 19.77 ], [ -99.37, 19.85 ], [ -99.48, 19.91 ], [ -99.44, 20.0 ], [ -99.51, 20.18 ], [ -99.63, 20.15 ], [ -99.66, 20.18 ], [ -99.72, 20.17 ], [ -99.84, 20.28 ], [ -99.86, 20.26 ], [ -99.83, 20.54 ], [ -99.62, 20.59 ], [ -99.5, 20.66 ], [ -99.55, 20.74 ], [ -99.39, 20.95 ], [ -99.36, 21.04 ], [ -99.4, 21.1 ], [ -99.35, 21.1 ], [ -99.31, 21.15 ], [ -99.25, 21.1 ], [ -99.08, 21.17 ], [ -99.06, 21.15 ], [ -99.06, 21.28 ], [ -98.94, 21.31 ], [ -98.88, 21.18 ], [ -98.79, 21.16 ], [ -98.81, 21.19 ], [ -98.77, 21.17 ], [ -98.74, 21.19 ], [ -98.7, 21.16 ], [ -98.68, 21.2 ], [ -98.61, 21.2 ], [ -98.6, 21.28 ], [ -98.68, 21.35 ], [ -98.55, 21.38 ], [ -98.51, 21.36 ], [ -98.48, 21.4 ] ] ] } },
        { "type": "Feature", "properties": { "abre": "Nay.", "cvegeo": "18", "grado_marg": "Medio", "nom_edo": "Nayarit", "pob18ymas": 869194.0, "pob18ymas_rural": 186992, "pob18ymas_urbano": 682202.0 }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -105.27, 21.05 ], [ -105.27, 21.05 ], [ -105.27, 21.05 ], [ -105.27, 21.05 ], [ -105.27, 21.05 ] ] ], [ [ [ -106.23, 21.33 ], [ -106.23, 21.29 ], [ -106.28, 21.31 ], [ -106.26, 21.33 ], [ -106.23, 21.33 ] ] ], [ [ [ -106.43, 21.49 ], [ -106.37, 21.48 ], [ -106.39, 21.42 ], [ -106.49, 21.47 ], [ -106.43, 21.49 ] ] ], [ [ [ -106.65, 21.69 ], [ -106.54, 21.66 ], [ -106.51, 21.6 ], [ -106.53, 21.54 ], [ -106.63, 21.6 ], [ -106.65, 21.69 ] ] ], [ [ [ -106.67, 21.77 ], [ -106.66, 21.74 ], [ -106.68, 21.73 ], [ -106.69, 21.76 ], [ -106.67, 21.77 ] ] ], [ [ [ -105.89, 21.85 ], [ -105.88, 21.85 ], [ -105.88, 21.85 ], [ -105.88, 21.84 ], [ -105.89, 21.85 ] ] ], [ [ [ -105.38, 23.08 ], [ -105.35, 23.06 ], [ -105.32, 22.94 ], [ -105.0, 22.98 ], [ -104.99, 22.84 ], [ -104.92, 22.82 ], [ -104.89, 22.74 ], [ -105.07, 22.68 ], [ -104.99, 22.5 ], [ -104.86, 22.61 ], [ -104.86, 22.65 ], [ -104.79, 22.65 ], [ -104.78, 22.58 ], [ -104.67, 22.57 ], [ -104.66, 22.46 ], [ -104.6, 22.46 ], [ -104.59, 22.41 ], [ -104.51, 22.35 ], [ -104.48, 22.35 ], [ -104.5, 22.38 ], [ -104.37, 22.42 ], [ -104.29, 22.37 ], [ -104.28, 22.3 ], [ -104.37, 22.1 ], [ -104.37, 21.97 ], [ -104.29, 22.0 ], [ -104.25, 21.97 ], [ -104.19, 21.99 ], [ -104.17, 21.96 ], [ -104.2, 21.89 ], [ -104.17, 21.87 ], [ -104.2, 21.85 ], [ -104.16, 21.81 ], [ -103.92, 21.77 ], [ -103.89, 21.7 ], [ -103.93, 21.64 ], [ -103.92, 21.58 ], [ -103.86, 21.55 ], [ -103.82, 21.49 ], [ -103.77, 21.5 ], [ -103.72, 21.43 ], [ -103.76, 21.41 ], [ -103.75, 21.34 ], [ -103.82, 21.28 ], [ -103.82, 21.25 ], [ -103.9, 21.23 ], [ -103.93, 21.26 ], [ -103.92, 21.23 ], [ -103.97, 21.26 ], [ -104.03, 21.19 ], [ -104.22, 21.18 ], [ -104.24, 21.03 ], [ -104.21, 20.94 ], [ -104.29, 20.89 ], [ -104.3, 20.85 ], [ -104.36, 20.84 ], [ -104.38, 20.78 ], [ -104.28, 20.78 ], [ -104.24, 20.71 ], [ -104.25, 20.6 ], [ -104.29, 20.69 ], [ -104.5, 20.84 ], [ -104.56, 20.92 ], [ -104.66, 20.93 ], [ -104.73, 21.01 ], [ -104.78, 21.02 ], [ -104.84, 21.02 ], [ -104.97, 20.91 ], [ -105.1, 20.92 ], [ -105.16, 20.86 ], [ -105.17, 20.77 ], [ -105.24, 20.75 ], [ -105.28, 20.67 ], [ -105.35, 20.76 ], [ -105.4, 20.73 ], [ -105.54, 20.76 ], [ -105.31, 21.03 ], [ -105.27, 21.02 ], [ -105.24, 21.06 ], [ -105.22, 21.21 ], [ -105.25, 21.35 ], [ -105.19, 21.46 ], [ -105.23, 21.52 ], [ -105.27, 21.51 ], [ -105.44, 21.62 ], [ -105.63, 21.96 ], [ -105.65, 22.04 ], [ -105.64, 22.18 ], [ -105.76, 22.53 ], [ -105.68, 22.47 ], [ -105.7, 22.56 ], [ -105.64, 22.59 ], [ -105.6, 22.54 ], [ -105.47, 22.5 ], [ -105.44, 22.52 ], [ -105.45, 22.62 ], [ -105.46, 22.66 ], [ -105.5, 22.65 ], [ -105.52, 22.77 ], [ -105.47, 22.85 ], [ -105.5, 22.96 ], [ -105.41, 23.02 ], [ -105.41, 23.07 ], [ -105.38, 23.08 ] ] ] ] } },    
        { "type": "Feature", "properties": { "abre": "Mich.", "cvegeo": "16", "grado_marg": "Alto", "nom_edo": "Michoacán de Ocampo", "pob18ymas": 3464541.0, "pob18ymas_rural": 944274, "pob18ymas_urbano": 2520267.0 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -102.01, 20.38 ], [ -102.03, 20.35 ], [ -102.01, 20.33 ], [ -102.0, 20.36 ], [ -101.94, 20.34 ], [ -101.94, 20.23 ], [ -101.89, 20.19 ], [ -101.83, 20.22 ], [ -101.7, 20.19 ], [ -101.63, 20.27 ], [ -101.62, 20.31 ], [ -101.46, 20.33 ], [ -101.44, 20.31 ], [ -101.46, 20.27 ], [ -101.35, 20.23 ], [ -101.36, 20.2 ], [ -101.42, 20.2 ], [ -101.39, 20.13 ], [ -101.4, 20.04 ], [ -101.25, 20.04 ], [ -101.2, 20.01 ], [ -101.16, 20.04 ], [ -101.2, 20.06 ], [ -101.18, 20.1 ], [ -101.13, 20.06 ], [ -101.02, 20.09 ], [ -100.99, 20.06 ], [ -101.01, 20.03 ], [ -100.97, 20.01 ], [ -101.0, 19.95 ], [ -100.96, 19.93 ], [ -100.95, 19.96 ], [ -100.84, 19.93 ], [ -100.82, 19.98 ], [ -100.75, 19.91 ], [ -100.58, 19.99 ], [ -100.56, 19.99 ], [ -100.59, 19.96 ], [ -100.53, 19.98 ], [ -100.54, 19.92 ], [ -100.52, 19.92 ], [ -100.47, 19.99 ], [ -100.36, 19.99 ], [ -100.36, 20.06 ], [ -100.4, 20.1 ], [ -100.32, 20.25 ], [ -100.35, 20.3 ], [ -100.18, 20.21 ], [ -100.24, 20.14 ], [ -100.2, 20.13 ], [ -100.2, 20.08 ], [ -100.16, 20.08 ], [ -100.14, 20.05 ], [ -100.16, 20.02 ], [ -100.12, 20.01 ], [ -100.13, 19.92 ], [ -100.06, 19.86 ], [ -100.13, 19.85 ], [ -100.15, 19.73 ], [ -100.19, 19.7 ], [ -100.23, 19.72 ], [ -100.27, 19.67 ], [ -100.24, 19.56 ], [ -100.18, 19.49 ], [ -100.21, 19.47 ], [ -100.19, 19.44 ], [ -100.31, 19.36 ], [ -100.32, 19.25 ], [ -100.37, 19.19 ], [ -100.36, 19.15 ], [ -100.41, 19.06 ], [ -100.53, 19.01 ], [ -100.54, 18.93 ], [ -100.7, 18.79 ], [ -100.75, 18.87 ], [ -100.79, 18.83 ], [ -100.79, 18.69 ], [ -100.75, 18.64 ], [ -100.76, 18.56 ], [ -100.72, 18.49 ], [ -100.59, 18.42 ], [ -100.61, 18.38 ], [ -100.65, 18.35 ], [ -100.69, 18.41 ], [ -100.72, 18.4 ], [ -100.8, 18.48 ], [ -100.87, 18.49 ], [ -100.96, 18.45 ], [ -101.01, 18.53 ], [ -101.09, 18.51 ], [ -101.28, 18.54 ], [ -101.37, 18.5 ], [ -101.51, 18.49 ], [ -101.58, 18.52 ], [ -101.62, 18.6 ], [ -101.77, 18.6 ], [ -101.88, 18.53 ], [ -101.86, 18.26 ], [ -101.9, 18.28 ], [ -101.98, 18.21 ], [ -102.16, 18.16 ], [ -102.18, 18.02 ], [ -102.13, 17.95 ], [ -102.19, 17.91 ], [ -102.48, 18.02 ], [ -102.76, 18.07 ], [ -103.49, 18.33 ], [ -103.58, 18.51 ], [ -103.71, 18.6 ], [ -103.69, 18.63 ], [ -103.74, 18.68 ], [ -103.7, 18.75 ], [ -103.62, 18.8 ], [ -103.63, 18.89 ], [ -103.57, 18.87 ], [ -103.47, 18.99 ], [ -103.33, 18.97 ], [ -103.23, 19.02 ], [ -103.17, 18.94 ], [ -103.13, 18.93 ], [ -103.05, 19.0 ], [ -103.06, 19.03 ], [ -102.99, 19.05 ], [ -103.02, 19.13 ], [ -102.98, 19.12 ], [ -102.96, 19.17 ], [ -102.75, 19.26 ], [ -102.67, 19.21 ], [ -102.58, 19.42 ], [ -102.54, 19.43 ], [ -102.58, 19.53 ], [ -102.66, 19.49 ], [ -102.69, 19.51 ], [ -102.74, 19.49 ], [ -102.72, 19.6 ], [ -102.81, 19.67 ], [ -102.78, 19.7 ], [ -102.82, 19.78 ], [ -102.79, 19.81 ], [ -102.74, 19.82 ], [ -102.73, 19.9 ], [ -102.78, 19.96 ], [ -102.95, 20.0 ], [ -103.03, 19.96 ], [ -103.05, 19.99 ], [ -103.02, 20.05 ], [ -103.04, 20.12 ], [ -102.93, 20.13 ], [ -102.94, 20.17 ], [ -102.87, 20.16 ], [ -102.82, 20.11 ], [ -102.82, 20.14 ], [ -102.68, 20.17 ], [ -102.68, 20.23 ], [ -102.63, 20.23 ], [ -102.61, 20.27 ], [ -102.53, 20.27 ], [ -102.45, 20.34 ], [ -102.37, 20.33 ], [ -102.31, 20.36 ], [ -102.25, 20.34 ], [ -102.17, 20.38 ], [ -102.01, 20.38 ] ] ] } }]};



        geojsonLayer = L.geoJSON(geojsonData, {
            style: style,
            onEachFeature: onEachFeature
        }).addTo(map);
        
        map.fitBounds(geojsonLayer.getBounds());

        function centerMap() {
            if (geojsonLayer) {
                map.fitBounds(geojsonLayer.getBounds());
            } else {
                map.setView([23.6345, -102.5528], 5);
            }
        }

    </script>
</body>
</html>